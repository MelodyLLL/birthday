<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta http-equiv="X-UA-Compatible" content="ie=edge" />
		<meta name="Description" content="Happy Birthday Miss 🍓" />
		<link
			rel="stylesheet"
			href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css"
		/>
		<link rel="stylesheet" href="assets/css/style.css" />
		<title>For Miss 🍓</title>
		<link rel="preconnect" href="https://fonts.gstatic.com" />
		<link
			href="https://fonts.googleapis.com/css2?family=Concert+One&display=swap"
			rel="stylesheet"
		/>
		<link
			rel="stylesheet"
			href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css"
			integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N"
			crossorigin="anonymous"
		/>
	</head>

	<body class="d-flex align-items-center bodi">
		<div id="loader">
			<center>
				<img
					src="assets/image/a4f2cb80ff2ae2772e80bf30e9d78d4c.gif"
					width="80px"
					height="80px"
				/>
			</center>

			<center><span id="loaderText">稍等哈~</span></center>
		</div>

		<div class="container" style="display: none; z-index: 1" id="Kontener">
			<div id="circle" style="display: none" class="ripple-background">
				<div class="circle xlarge shade2"></div>
				<div class="circle large shade3"></div>
				<div class="circle mediun shade4"></div>
				<div class="circle small shade5"></div>
			</div>

			<div class="container col-md-6 py-8 animate-bottom">
				<div class="card">
					<div class="card-body">
						<p class="judul">Happy Birthday MISS 🍓</p>
						<h2 class="subjudul">Liu Yang.</h2>
						<hr />

						<center>
							<div
								id="karosel"
								style="z-index: 999"
								class="carousel slide"
								data-ride="carousel"
							>
								<ul class="carousel-indicators">
									<li
										data-target="#karosel"
										data-slide-to="0"
										class="active"
									></li>

									<li data-target="#karosel" data-slide-to="1"></li>

									<li data-target="#karosel" data-slide-to="2"></li>

									<li data-target="#karosel" data-slide-to="3"></li>
								</ul>

								<div class="carousel-inner">
									<div class="carousel-item active">
										<img src="assets/image/foto1.jpg" alt="Adit" />
									</div>

									<div class="carousel-item">
										<img src="assets/image/foto2.jpg" alt="Adit" />
									</div>

									<div class="carousel-item">
										<img src="assets/image/foto3.jpg" alt="Adit" />
									</div>

									<div class="carousel-item">
										<img src="assets/image/foto4.jpg" alt="Adit" />
									</div>
								</div>

								<a
									class="carousel-control-prev"
									href="#karosel"
									data-slide="prev"
								>
									<span class="carousel-control-prev-icon"></span>
								</a>
								<a
									class="carousel-control-next"
									href="#karosel"
									data-slide="next"
								>
									<span class="carousel-control-next-icon"></span>
								</a>
							</div>
						</center>

						<hr />

						<button
							type="button"
							class="tombol"
							style="width: 100%"
							data-toggle="modal"
							data-target="#Modalmuncul"
							onclick="Mainkannn(); Gassngetik();"
						>
							老细, 打开睇下！
						</button>
					</div>
				</div>
			</div>

			<!-- Modal -->
			<div
				class="modal fade"
				id="Modalmuncul"
				tabindex="-1"
				role="dialog"
				aria-labelledby="ModalmunculTitle"
				aria-hidden="true"
				data-backdrop="static"
			>
				<div class="modal-dialog modal-dialog-centered" role="document">
					<div class="modal-content">
						<div class="modal-header">
							<h5
								class="modal-title"
								style="color: #d3f3ee"
								id="exampleModalLongTitle"
							>
								Special Wish For Liu Yang
							</h5>
							<button
								type="button"
								class="close"
								data-dismiss="modal"
								aria-label="Close"
                style="color: #fff;"
							>
								<span aria-hidden="true">&times;</span>
							</button>
						</div>
						<div class="modal-body">
							<p id="tekss"></p>
							<br /><br />
							<button
                id="boomBtn"
								type="button"
                style="display: none;"
								class="btn btn-success"
								onclick="bomFromSide();"
							>
								再放个🎉试试?
							</button>
							<div>~From A (小)Top (直)Man(男🙂).</div>
							<div>BGM《Selamat Ulang Tahun》!</div>
						</div>
						<audio id="lagu" src="assets/lagu/lagu.mp3" preload="auto"></audio>
						<div class="modal-footer">
							<button
								type="button"
								class="tombol"
								data-dismiss="modal"
								onclick="Mainkannn1();"
							>
								关掉啦！
							</button>
						</div>
					</div>
				</div>
			</div>
		</div>

		<div style="position: relative; z-index: 0">
			<canvas id="canvas">Canvas is not supported in your browser.</canvas>
		</div>
    <footer class="footer">©️ljq for 🍓 2024-08-27</footer>
		<!-- <script
			src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
			integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
			crossorigin="anonymous"
		></script> -->
		<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>
		<script
			src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
			integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
			crossorigin="anonymous"
		></script>
		<!-- <script
			src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
			integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
			crossorigin="anonymous"
		></script> -->
		<script
			src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"
			integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
			crossorigin="anonymous"
		></script>
		<script
			src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"
			integrity="sha384-Fy6S3B9q64WdZWQUiU+q4/2Lc9npb8tCaSX9FK7E8HnRr0Jz8D6OP9dO5Vg3Q9ct"
			crossorigin="anonymous"
		></script>
		<script src="assets/js/snow.js" type="text/javascript"></script>
		<script src="assets/js/fireworks.js" type="text/javascript"></script>

		<script>
			// 打字模块
			var typingTimeout; // 用于存储 setTimeout 返回值
			var txt =
				'HI, 🍓小仙女, 不知道这份祝福有没有晚或早～, 虽然认识的时间还不太长, 但是我觉得你是一个性格活泼又充满热情的女生🤔. 时而像个小女孩，时而呢又是个职场达人. anyway, 希望你一直能勇敢大方的去表达自己, 希望你每天都开开心心事事顺意. 等你空了(啥时候嘞?), 带你去七好七滴, 再把广州塔的电影还有珠江夜游安排上! 来日方长, 话不多说😄. 最后, Happy Birthday! 🎂🎂🎂';
			var speed = 120;

			function Gassngetik() {
				var i = 0; // 将 i 声明为局部变量
				document.getElementById('tekss').innerHTML = ''; // 清空之前的内容
				function typeWriter() {
					if (i < txt.length) {
						document.getElementById('tekss').innerHTML += txt.charAt(i);
						i++;
						typingTimeout = setTimeout(typeWriter, speed);
					}
          if (i == txt.length) {
            document.getElementById('boomBtn').style.display = 'block';
          }
				}

				typeWriter(); // 启动打字效果
			}

			// 用于终止定时器
			function stopTyping() {
				clearTimeout(typingTimeout);
			}

			$('#Modalmuncul').on('hidden.bs.modal', function (event) {
				// do something...
				stopTyping();
			});

			// 音乐模块
			var lagu = document.getElementById('lagu');
			function Mainkannn() {
				if (lagu.paused) {
					confetti({
						particleCount: 100,
						spread: 70,
						origin: { y: 0.6 },
					});
					lagu.play();
					// 获取class为circle的元素
					document.getElementById('circle').style.display = 'block';
				}
			}
			function Mainkannn1() {
				if (!lagu.paused) {
					lagu.pause();
					document.getElementById('circle').style.display = 'none';
				}
			}

			// 加载
			// var myVar;
			// function myFunction() {
			// 	myVar = setTimeout(showPage, 2200);
			// }

			function showPage() {
				document.getElementById('loader').style.display = 'none';
				document.getElementById('Kontener').style.display = 'block';
			}

			// 冲击礼花
			function bomFromSide() {
				var end = Date.now() + 5 * 1000;

				// go Buckeyes!
				var colors = ['#bb0000', '#ffffff'];
				let frameCount = 0;
				const skipFrames = 5; // 每 3 帧更新一次（1 + 2）
				(function frame() {
					frameCount++;
					if (frameCount % skipFrames === 0) {
						var scalar = 3;
						var pineapple = confetti.shapeFromText({ text: '🍓', scalar });
						var cake = confetti.shapeFromText({ text: '🍰', scalar });
						// var lanmei = confetti.shapeFromText({ text: '🫐', scalar });


						confetti({
							shapes: [pineapple,cake],
							scalar,
							particleCount: 2,
							angle: 60,
							spread: 55,
							origin: { x: 0 },
							// colors: colors,
						});
						confetti({
							shapes: [pineapple,cake],
							scalar,
							particleCount: 2,
							angle: 120,
							spread: 55,
							origin: { x: 1 },
							// colors: colors,
						});
					}
					if (Date.now() < end) {
						requestAnimationFrame(frame);
					}
				})();
			}

			// Handle page load
			window.onload = function () {
				setTimeout(() => {
					showPage();

					canvas.addEventListener('mousemove', function (e) {
						mx = e.pageX - canvas.offsetLeft;
						my = e.pageY - canvas.offsetTop;
					});

					// toggle mousedown state and prevent canvas from being selected
					canvas.addEventListener('mousedown', function (e) {
						e.preventDefault();
						mousedown = true;
					});

					canvas.addEventListener('mouseup', function (e) {
						e.preventDefault();
						mousedown = false;
					});

					var lagu = document.getElementById('lagu');
					lagu.addEventListener('ended', function () {
						document.getElementById('circle').style.display = 'none';
					});

					loop();
				}, 2200); // Adjust the delay as needed
			};
		</script>
	</body>
</html>
